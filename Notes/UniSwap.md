# UniSwap

## UniSwap 的基本模式

在中心化交易所，用户间挂买单和卖单，交易所的撮合引擎会按时间和价格进行排序，一旦买单和卖单价格重叠，就可以成交完成交换。但 Uniswap 里没有挂单这个设计，取而代之的是**流动性资金池充当所有交易的对手盘**。

流动性资金池是包含了需要交易的两种币，比如 ETH 和 USDT。比如一个流动性池里有 x 个 ETH 和 y 个 USDT。此时 k=x * y （k 是一个常数）当用户 A 想用 dy 个 USDT 买 ETH，**在不考虑滑点的前提下**，用户 A 买入的价格是 y/x。而真实成交时，用户能买到的 ETH 数量 dx 为 (不考虑 0.3% 的手续费）：k=(x-dx)*(y+dy)，dx=x-k/(y+dy)交易所，流动性池里的资金就成了：（x-dx）个 ETH 和（y+dy）个 USDT，而此时 ETH 的价格变成了 (y+dy)/(x-dx)。